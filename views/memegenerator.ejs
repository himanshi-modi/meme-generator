<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Meme Generator</title>
</head>
<body class="bg-gradient-to-r from-purple-500 to-pink-500 min-h-screen flex items-center justify-center p-6 font-[Poppins]">
    <div class="bg-white rounded-2xl shadow-2xl max-w-6xl w-full grid md:grid-cols-3 gap-6 p-6">
        
        <!-- Left Panel (Meme Gallery) -->
        <div>
            <h2 class="text-xl font-bold mb-4 text-purple-700">Choose a Template</h2>
            <input id="searchInput" type="text" placeholder="Search memes..."
                class="w-full mb-4 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-400 outline-none">
            
            <div class="h-[500px] overflow-y-auto grid grid-cols-2 gap-3 pr-2 custom-scrollbar">
                <% memes.forEach(meme => { %>
                    <div onclick="selectMeme('<%= meme.url %>')" data-name="<%= meme.name.toLowerCase() %>" class="meme-item cursor-pointer border-2 border-gray-200 rounded-lg hover:scale-105 hover:border-purple-500 transition p-1">
                        <img src="<%= meme.url %>" alt="<%= meme.name %>" class="rounded-lg">
                        <p class="text-center text-xs mt-1 text-gray-600"><%= meme.name %></p>
                    </div>
                <% }) %>
            </div>
        </div>

        <!-- Right Panel (Preview & Controls) -->
        <div class="md:col-span-2 flex flex-col items-center">
            <!-- Preview Box -->
            <div class="bg-gray-100 rounded-lg shadow-lg w-full flex flex-col items-center justify-center p-4 mb-6">
                <h2 class="text-xl font-semibold mb-4">Preview Your Meme</h2>
                <div class="relative w-full flex items-center justify-center bg-gray-200 rounded-lg" style="min-height: 300px;">
                    <canvas id="memeCanvas" class="max-w-full rounded-lg"></canvas>
                    <span id="placeholderText" class="absolute text-gray-500 text-lg">Create your meme here</span>
                </div>
            </div>

            <!-- Controls -->
            <div class="grid md:grid-cols-2 gap-4 w-full mb-6">
                <!-- Top Text -->
                <input id="topText" type="text" placeholder="Enter top text"
                    class="w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-400 outline-none">
                
                <!-- Bottom Text -->
                <input id="bottomText" type="text" placeholder="Enter bottom text"
                    class="w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-400 outline-none">
            </div>

            <!-- Extra Options -->
            <div class="flex flex-wrap gap-4 mb-6">
                <!-- Text Color -->
                <div>
                    <label class="block text-gray-700 mb-1 font-medium">Text Color</label>
                    <input type="color" id="textColor" value="#ffffff" class="w-16 h-10 border rounded">
                </div>
                <!-- Font Style -->
                <div>
                    <label class="block text-gray-700 mb-1 font-medium">Font</label>
                    <select id="fontSelect" class="p-2 border rounded-lg">
                        <option value="Impact">Impact</option>
                        <option value="Arial">Arial</option>
                        <option value="Comic Sans MS">Comic Sans</option>
                        <option value="Times New Roman">Times New Roman</option>
                    </select>
                </div>
                <!-- Font Size -->
                <div>
                    <label class="block text-gray-700 mb-1 font-medium">Font Size</label>
                    <input type="number" id="fontSize" min="10" max="80" value="30"
                        class="w-20 p-2 border rounded-lg">
                </div>
            </div>

            <!-- Download Button -->
            <button id="downloadMeme"
                class="bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-xl font-semibold shadow hover:from-emerald-500 hover:to-green-500 transition-all duration-300">
                Download Meme
            </button>
        </div>
    </div>

    <style>
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #a855f7;
            border-radius: 4px;
        }
    </style>

    <script src="/js/meme-generator.js"></script>
</body>
</html>
